{"ast":null,"code":"import _defineProperty from \"D:\\\\Marhub\\\\car-booking\\\\fontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\Marhub\\\\car-booking\\\\fontend\\\\src\\\\modules\\\\admin_control\\\\departure\\\\departure_edit.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { API_URL } from \"../../../config/config\";\nimport axios from \"axios\";\n\nclass Departureedit extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: [{\n        \"id\": \"0\",\n        \"name\": \"\",\n        \"description\": \"\"\n      }]\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.match != undefined) {\n      axios.post(API_URL + '/production/departure/editDeparture.php', {\n        id: this.props.match.params.id\n      }).then(data => {\n        if (data) {\n          this.setState({\n            user: data.data\n          });\n          console.log('data', data.data);\n        }\n      });\n    } else {\n      this.props.history.replace('/user-control');\n    }\n  }\n\n  handleChange(e) {\n    console.log('target', e.target.name);\n    this.setState({\n      user: [_objectSpread({}, this.state.user[0], {\n        [e.target.name]: e.target.value\n      })]\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault(); //console.log('e',e.target.password.value)\n\n    axios.post(API_URL + '/production/departure/updateDeparture.php', {\n      id: e.target.id.value,\n      name: e.target.name.value,\n      description: e.target.description.value\n    }).then(data => {\n      console.log('data', data);\n\n      if (data.data.message == '1') {\n        alert('successfull');\n        this.props.history.replace('/admin-control');\n      } else {\n        alert('server error');\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-8 col-md-8 bg-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel panel-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"panel-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Update user information\")), React.createElement(\"div\", {\n      className: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      role: \"form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"id\",\n      id: \"id\",\n      className: \"form-control input-sm \",\n      style: {\n        display: 'none'\n      },\n      onChange: this.handleChange,\n      value: this.state.user[0].id,\n      placeholder: \"id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      className: \"form-control input-sm\",\n      onChange: this.handleChange,\n      value: this.state.user[0].name,\n      placeholder: \"Departure Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      className: \"form-control input-sm\",\n      rows: \"5\",\n      name: \"description\",\n      id: \"description\",\n      onChange: this.handleChange,\n      value: this.state.user[0].description,\n      placeholder: \"Description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })))), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Register\",\n      className: \"btn btn-info btn-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))))))));\n  }\n\n}\n\nDepartureedit.propTypes = {};\nexport default Departureedit;","map":{"version":3,"sources":["D:\\Marhub\\car-booking\\fontend\\src\\modules\\admin_control\\departure\\departure_edit.js"],"names":["React","PureComponent","PropTypes","API_URL","axios","Departureedit","constructor","props","state","user","handleSubmit","bind","handleChange","componentDidMount","match","undefined","post","id","params","then","data","setState","console","log","history","replace","e","target","name","value","preventDefault","description","message","alert","render","display","propTypes"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {API_URL} from \"../../../config/config\";\r\nimport axios from \"axios\";\r\nclass Departureedit extends PureComponent {\r\n    static propTypes = {}\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            user: [{\"id\":\"0\",\"name\":\"\",\"description\":\"\",}]\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n    componentDidMount(){\r\n        \r\n        if(this.props.match != undefined){\r\n            axios.post(API_URL+'/production/departure/editDeparture.php',{\r\n                id: this.props.match.params.id}\r\n                ).then((data)=>{\r\n                if(data){\r\n                    this.setState({user:data.data})\r\n                    console.log('data',data.data)\r\n                }\r\n                \r\n            })\r\n        }else{\r\n            this.props.history.replace('/user-control');\r\n        }\r\n        \r\n    } \r\n    handleChange(e){\r\n        console.log('target',e.target.name)\r\n        this.setState({user:[{...this.state.user[0],[e.target.name]:e.target.value}]})\r\n       \r\n    }\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n        //console.log('e',e.target.password.value)\r\n        axios.post(API_URL+'/production/departure/updateDeparture.php',{\r\n            id: e.target.id.value,\r\n            name: e.target.name.value,\r\n            description: e.target.description.value,\r\n          }).then((data)=>{\r\n                console.log('data',data)\r\n                if(data.data.message == '1'){\r\n                    alert('successfull')\r\n                    this.props.history.replace('/admin-control');\r\n                }else{\r\n                    alert('server error')\r\n                }\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"content\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row justify-content-center\">\r\n                    <div className=\"col-xs-12 col-sm-8 col-md-8 bg-white\">\r\n                        <div className=\"panel panel-default\">\r\n                            <div className=\"panel-heading\">\r\n                                    <h3 className=\"panel-title\">Update user information</h3>\r\n                                    </div>\r\n                                    <div className=\"panel-body\">\r\n                                    <form role=\"form\" onSubmit={this.handleSubmit}>\r\n                                        <div className=\"form-group\">\r\n                                            <input type=\"text\" name=\"id\" id=\"id\" className=\"form-control input-sm \" style={{display:'none'}} onChange={this.handleChange} value={this.state.user[0].id} placeholder=\"id\"/>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-xs-12 col-sm-12 col-md-12\">\r\n                                                <div className=\"form-group\">\r\n                                                    <input type=\"text\" name=\"name\" id=\"name\" className=\"form-control input-sm\" onChange={this.handleChange} value={this.state.user[0].name} placeholder=\"Departure Name\"/>\r\n                                                </div>\r\n                                            </div> \r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-xs-12 col-sm-12 col-md-12\">\r\n                                                <div className=\"form-group\">\r\n                                                    <textarea className=\"form-control input-sm\"  rows=\"5\" name=\"description\" id=\"description\" onChange={this.handleChange} value={this.state.user[0].description} placeholder=\"Description\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div> \r\n                                        <input type=\"submit\" value=\"Register\" className=\"btn btn-info btn-block\"/>\r\n                                    \r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Departureedit"]},"metadata":{},"sourceType":"module"}