{"ast":null,"code":"import _objectWithoutProperties from \"D:\\\\Marhub\\\\car-booking\\\\fontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"D:\\\\Marhub\\\\car-booking\\\\fontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Dashboard from \"./modules/dashboard\";\nimport UserProfile from \"./modules/user_profile/user_profile\";\nimport UserControl from \"./modules/user_management/user_control\";\nimport Maps from \"./modules/maps\";\nimport Notifications from \"./modules/notifications\";\nimport Table from \"./modules/booking/table\";\nimport Typography from \"./modules/typography\";\nimport Icons from \"./modules/icons\";\nimport RTL from \"./modules/rtl\";\nimport AdminControl from \"./modules/admin_control/admin_control\";\nimport Statistic from \"./modules/statistic\";\nimport CMS from \"./modules/CMS\";\nimport Login from \"./modules/login\";\nimport Main from \"./main\";\nimport UserAdd from \"./modules/user_management/user_add\";\nimport UserEdit from \"./modules/user_management/user_edit\";\nimport DepartmentAdd from \"./modules/admin_control/department/department_add\";\nimport DepartmentEdit from \"./modules/admin_control/department/department_edit\";\nimport DepartureAdd from \"./modules/admin_control/departure/departure_add\";\nimport DepartureEdit from \"./modules/admin_control/departure/departure_edit\";\nimport ArrivalAdd from \"./modules/admin_control/arrival/arrival_add\";\nimport ArrivalEdit from \"./modules/admin_control/arrival/arrival_edit\";\nimport NCCAdd from \"./modules/admin_control/NCC/NCC_add\";\nimport NCCEdit from \"./modules/admin_control/NCC/NCC_edit\";\nimport PartnerAdd from \"./modules/admin_control/partner/partner_add\";\nimport PartnerEdit from \"./modules/admin_control/partner/partner_edit\";\nimport VehicleAdd from \"./modules/admin_control/Vehicle/vehicle_add\";\nimport VehicleEdit from \"./modules/admin_control/Vehicle/vehicle_edit\";\nimport BookingAdd from \"./modules/booking/booking_add\";\nimport BookingEdit from \"./modules/booking/booking_edit\";\nimport Bg from \"./assets/img/sidebar-1.jpg\";\nimport { BrowserRouter, Route, Link, Redirect } from \"react-router-dom\";\nimport Auth from \"./components/AuthService\";\nimport base64 from \"base-64\";\nimport { ToastContainer, toast } from 'react-toastify';\nconst auth = new Auth();\n\nconst PrivateRoute = (_ref) => {\n  let Component = _ref.component,\n      rest = _objectWithoutProperties(_ref, [\"component\"]);\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: props => auth.getCookie() && auth.getToken() && auth.isTokenExpired(auth.getToken()) //true\n    ? React.createElement(Main, Object.assign({\n      rest: rest\n    }, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(Component, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }))) : React.createElement(Redirect, {\n      to: {\n        pathname: '/login',\n        state: {\n          from: props.location\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }));\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: \"dashboard\",\n      decoded: {\n        \"id\": \"0\",\n        \"username\": \"0\",\n        \"email\": \"0\",\n        \"firstname\": \"0\",\n        \"lastname\": \"0\",\n        \"address\": \"0\",\n        \"phone\": \"0\",\n        \"department\": \"0\",\n        \"user_category\": 0,\n        \"token\": \"0\"\n      },\n      router_list: [{\n        part: '/dashboard',\n        component: Dashboard,\n        user_role: [1, 2, 3]\n      }, {\n        part: '/user',\n        component: UserProfile,\n        user_role: [1, 2, 3]\n      }, {\n        part: '/user-management',\n        component: UserControl,\n        user_role: [1]\n      }, {\n        part: '/admin-control',\n        component: AdminControl,\n        user_role: [1, 2]\n      }, {\n        part: '/table',\n        component: Table,\n        user_role: [1, 2, 3]\n      }, {\n        part: '/statistics',\n        component: Statistic,\n        user_role: [1]\n      }, {\n        part: '/cms',\n        component: CMS,\n        user_role: [1]\n      }, {\n        part: '/typography',\n        component: Typography,\n        user_role: [1]\n      }, {\n        part: '/icons',\n        component: Icons,\n        user_role: [1]\n      }, {\n        part: '/maps',\n        component: Maps,\n        user_role: [1]\n      }, {\n        part: '/notications',\n        component: Notifications,\n        user_role: [1]\n      }, {\n        part: '/rtl',\n        component: RTL,\n        user_role: [1]\n      }, {\n        part: '/user-add',\n        component: UserAdd,\n        user_role: [1]\n      }, {\n        part: '/user-edit/:id',\n        component: UserEdit,\n        user_role: [1]\n      }, {\n        part: '/department-add/',\n        component: DepartmentAdd,\n        user_role: [1, 2]\n      }, {\n        part: '/department-edit/:id',\n        component: DepartmentEdit,\n        user_role: [1, 2]\n      }, {\n        part: '/departure-add/',\n        component: DepartureAdd,\n        user_role: [1, 2]\n      }, {\n        part: '/departure-edit/:id',\n        component: DepartureEdit,\n        user_role: [1, 2]\n      }, {\n        part: '/arrival-add/',\n        component: ArrivalAdd,\n        user_role: [1, 2]\n      }, {\n        part: '/arrival-edit/:id',\n        component: ArrivalEdit,\n        user_role: [1, 2]\n      }, {\n        part: '/NCC-add/',\n        component: NCCAdd,\n        user_role: [1, 2]\n      }, {\n        part: '/NCC-edit/:id\"',\n        component: NCCEdit,\n        user_role: [1, 2]\n      }, {\n        part: '/partner-add/',\n        component: PartnerAdd,\n        user_role: [1, 2]\n      }, {\n        part: '/partner-edit/:id',\n        component: PartnerEdit,\n        user_role: [1, 2]\n      }, {\n        part: '/vehicle-add/',\n        component: VehicleAdd,\n        user_role: [1]\n      }, {\n        part: '/vehicle-edit/:id',\n        component: VehicleEdit,\n        user_role: [1]\n      }, {\n        part: '/booking-add/',\n        component: BookingAdd,\n        user_role: [1, 2, 3]\n      }, {\n        part: '/booking-edit/:id',\n        component: BookingEdit,\n        user_role: [1, 2]\n      }]\n    };\n    this.setFilter = this.setFilter.bind(this);\n    this.isActive = this.isActive.bind(this);\n  }\n\n  componentDidMount() {\n    if (auth.getToken()) this.setState({\n      decoded: JSON.parse(base64.decode(auth.getToken()))\n    });\n  }\n\n  setFilter(filter) {\n    console.log('setFilter');\n    this.setState({\n      selected: filter\n    });\n  }\n\n  isActive(value) {\n    console.log('isActive');\n    return value === this.state.selected ? 'active' : '';\n  }\n\n  render() {\n    let router = this.state.router_list.map((row, index) => {\n      return row.user_role.indexOf(parseInt(this.state.decoded.user_category)) !== -1 ? React.createElement(PrivateRoute, {\n        key: index,\n        path: row.part,\n        exact: true,\n        component: row.component,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }) : '';\n    });\n    console.log(router);\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      exact: true,\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), router, React.createElement(PrivateRoute, {\n      path: \"/\",\n      exact: true,\n      component: UserProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }));\n  }\n\n}\n\nApp.propTypes = {};\nexport default App;","map":{"version":3,"sources":["D:\\Marhub\\car-booking\\fontend\\src\\App.js"],"names":["React","Component","Dashboard","UserProfile","UserControl","Maps","Notifications","Table","Typography","Icons","RTL","AdminControl","Statistic","CMS","Login","Main","UserAdd","UserEdit","DepartmentAdd","DepartmentEdit","DepartureAdd","DepartureEdit","ArrivalAdd","ArrivalEdit","NCCAdd","NCCEdit","PartnerAdd","PartnerEdit","VehicleAdd","VehicleEdit","BookingAdd","BookingEdit","Bg","BrowserRouter","Route","Link","Redirect","Auth","base64","ToastContainer","toast","auth","PrivateRoute","component","rest","props","getCookie","getToken","isTokenExpired","pathname","state","from","location","App","constructor","selected","decoded","router_list","part","user_role","setFilter","bind","isActive","componentDidMount","setState","JSON","parse","decode","filter","console","log","value","render","router","map","row","index","indexOf","parseInt","user_category","propTypes"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './App.css';\r\nimport Dashboard from \"./modules/dashboard\";\r\nimport UserProfile from \"./modules/user_profile/user_profile\";\r\nimport UserControl from \"./modules/user_management/user_control\";\r\nimport Maps from \"./modules/maps\";\r\nimport Notifications from \"./modules/notifications\";\r\nimport Table from \"./modules/booking/table\";\r\nimport Typography from \"./modules/typography\";\r\nimport Icons from \"./modules/icons\";\r\nimport RTL from \"./modules/rtl\";\r\nimport AdminControl from \"./modules/admin_control/admin_control\";\r\nimport Statistic from \"./modules/statistic\";\r\nimport CMS from \"./modules/CMS\";\r\nimport Login from \"./modules/login\";\r\nimport Main from \"./main\";\r\nimport UserAdd from \"./modules/user_management/user_add\";\r\nimport UserEdit from \"./modules/user_management/user_edit\";\r\nimport DepartmentAdd from \"./modules/admin_control/department/department_add\";\r\nimport DepartmentEdit from \"./modules/admin_control/department/department_edit\";\r\nimport DepartureAdd from \"./modules/admin_control/departure/departure_add\";\r\nimport DepartureEdit from \"./modules/admin_control/departure/departure_edit\";\r\nimport ArrivalAdd from \"./modules/admin_control/arrival/arrival_add\";\r\nimport ArrivalEdit from \"./modules/admin_control/arrival/arrival_edit\";\r\nimport NCCAdd from \"./modules/admin_control/NCC/NCC_add\";\r\nimport NCCEdit from \"./modules/admin_control/NCC/NCC_edit\";\r\nimport PartnerAdd from \"./modules/admin_control/partner/partner_add\";\r\nimport PartnerEdit from \"./modules/admin_control/partner/partner_edit\";\r\nimport VehicleAdd from \"./modules/admin_control/Vehicle/vehicle_add\";\r\nimport VehicleEdit from \"./modules/admin_control/Vehicle/vehicle_edit\";\r\nimport BookingAdd from \"./modules/booking/booking_add\";\r\nimport BookingEdit from \"./modules/booking/booking_edit\";\r\nimport Bg from \"./assets/img/sidebar-1.jpg\";\r\nimport { BrowserRouter, Route, Link, Redirect } from \"react-router-dom\";\r\nimport Auth from \"./components/AuthService\";\r\nimport base64 from \"base-64\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nconst auth = new Auth()\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={(props) => (\r\n       auth.getCookie() && auth.getToken() && auth.isTokenExpired(auth.getToken())\r\n      //true\r\n        ? <Main rest={rest} {...props}><Component {...props} /></Main>\r\n        : <Redirect to={{\r\n            pathname: '/login',\r\n            state: { from: props.location }\r\n          }} />\r\n    )} />\r\n  )\r\nclass App extends Component {\r\n    static propTypes = {}\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            selected:\"dashboard\",\r\n            decoded:{\"id\":\"0\",\"username\":\"0\",\"email\":\"0\",\"firstname\":\"0\",\"lastname\":\"0\",\"address\":\"0\",\"phone\":\"0\",\"department\":\"0\",\"user_category\":0,\"token\":\"0\"},\r\n            router_list:[\r\n              {part:'/dashboard',component:Dashboard,user_role:[1,2,3]},\r\n              {part:'/user',component:UserProfile,user_role:[1,2,3]},\r\n              {part:'/user-management',component:UserControl,user_role:[1]},\r\n              {part:'/admin-control',component:AdminControl,user_role:[1,2]},\r\n              {part:'/table',component:Table,user_role:[1,2,3]},\r\n              {part:'/statistics',component:Statistic,user_role:[1]},\r\n              {part:'/cms',component:CMS,user_role:[1]},\r\n              {part:'/typography',component:Typography,user_role:[1]},\r\n              {part:'/icons',component:Icons,user_role:[1]},\r\n              {part:'/maps',component:Maps,user_role:[1]},\r\n              {part:'/notications',component:Notifications,user_role:[1]},\r\n              {part:'/rtl',component:RTL,user_role:[1]},\r\n              {part:'/user-add',component:UserAdd,user_role:[1]},\r\n              {part:'/user-edit/:id',component:UserEdit,user_role:[1]},\r\n              {part:'/department-add/',component:DepartmentAdd,user_role:[1,2]},\r\n              {part:'/department-edit/:id',component:DepartmentEdit,user_role:[1,2]},\r\n              {part:'/departure-add/',component:DepartureAdd,user_role:[1,2]},\r\n              {part:'/departure-edit/:id',component:DepartureEdit,user_role:[1,2]},\r\n              {part:'/arrival-add/',component:ArrivalAdd,user_role:[1,2]},\r\n              {part:'/arrival-edit/:id',component:ArrivalEdit,user_role:[1,2]},\r\n              {part:'/NCC-add/',component:NCCAdd,user_role:[1,2]},\r\n              {part:'/NCC-edit/:id\"',component:NCCEdit,user_role:[1,2]},\r\n              {part:'/partner-add/',component:PartnerAdd,user_role:[1,2]},\r\n              {part:'/partner-edit/:id',component:PartnerEdit,user_role:[1,2]},\r\n              {part:'/vehicle-add/',component:VehicleAdd,user_role:[1]},\r\n              {part:'/vehicle-edit/:id',component:VehicleEdit,user_role:[1]},\r\n              {part:'/booking-add/',component:BookingAdd,user_role:[1,2,3]},\r\n              {part:'/booking-edit/:id',component:BookingEdit,user_role:[1,2]}\r\n            ]\r\n        }\r\n        this.setFilter =  this.setFilter.bind(this)\r\n        this.isActive =  this.isActive.bind(this)\r\n    }\r\n    componentDidMount(){\r\n      if(auth.getToken())\r\n        this.setState({decoded: JSON.parse(base64.decode(auth.getToken()))})\r\n  }\r\n    setFilter(filter){\r\n        console.log('setFilter')\r\n        this.setState({selected:filter})\r\n      }\r\n    isActive(value){\r\n        console.log('isActive')\r\n        return ((value===this.state.selected) ?'active':'');\r\n      }\r\n    render() {\r\n        let router = this.state.router_list.map((row,index) =>{\r\n          return (row.user_role.indexOf(parseInt(this.state.decoded.user_category)) !== -1 )?<PrivateRoute key={index} path={row.part} exact component={row.component} />:''\r\n        })\r\n        console.log(router)\r\n        return (\r\n            <BrowserRouter>\r\n                <ToastContainer />\r\n                <Route path=\"/login\" exact component={Login} />\r\n                {router}\r\n                <PrivateRoute path=\"/\" exact component={UserProfile} />\r\n                {/* <PrivateRoute path='/' exact component={Dashboard} /> */}\r\n                {/*\r\n                <PrivateRoute path=\"/user\" exact component={UserProfile} />\r\n                <PrivateRoute path=\"/user-management\" exact component={UserControl} />\r\n                <PrivateRoute path=\"/admin-control\" exact component={AdminControl} />\r\n                <PrivateRoute path=\"/table\" exact component={Table}/>\r\n                <PrivateRoute path=\"/statistics\" exact component={Statistic}/>\r\n                <PrivateRoute path=\"/cms\" exact component={CMS}/>\r\n                <PrivateRoute path=\"/typography\" exact component={Typography} />\r\n                <PrivateRoute path=\"/icons\" exact component={Icons} />\r\n                <PrivateRoute path=\"/maps\" exact component={Maps} />\r\n                <PrivateRoute path=\"/notications\" exact component={Notifications} />\r\n                <PrivateRoute path=\"/rtl\" exact component={RTL} />\r\n                <PrivateRoute path=\"/user-add\" exact component={UserAdd} />\r\n                <PrivateRoute path=\"/user-edit/:id\" exact component={UserEdit} />\r\n                <PrivateRoute path=\"/department-add/\" exact component={DepartmentAdd} />\r\n                <PrivateRoute path=\"/department-edit/:id\" exact component={DepartmentEdit} />\r\n                <PrivateRoute path=\"/departure-add/\" exact component={DepartureAdd} />\r\n                <PrivateRoute path=\"/departure-edit/:id\" exact component={DepartureEdit} />\r\n                <PrivateRoute path=\"/arrival-add/\" exact component={ArrivalAdd} />\r\n                <PrivateRoute path=\"/arrival-edit/:id\" exact component={ArrivalEdit} />\r\n                <PrivateRoute path=\"/NCC-add/\" exact component={NCCAdd} />\r\n                <PrivateRoute path=\"/NCC-edit/:id\" exact component={NCCEdit} />\r\n                <PrivateRoute path=\"/partner-add/\" exact component={PartnerAdd} />\r\n                <PrivateRoute path=\"/partner-edit/:id\" exact component={PartnerEdit} />\r\n                <PrivateRoute path=\"/vehicle-add/\" exact component={VehicleAdd} />\r\n                <PrivateRoute path=\"/vehicle-edit/:id\" exact component={VehicleEdit} />\r\n                <PrivateRoute path=\"/booking-add/\" exact component={BookingAdd} />\r\n                <PrivateRoute path=\"/booking-edit/:id\" exact component={BookingEdit} /> */}\r\n          </BrowserRouter> \r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}