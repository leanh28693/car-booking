{"ast":null,"code":"import _defineProperty from \"D:\\\\Marhub\\\\car-booking\\\\fontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\Marhub\\\\car-booking\\\\fontend\\\\src\\\\modules\\\\user_management\\\\user_edit.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { API_URL } from \"../../config/config\";\nimport axios from \"axios\";\n\nclass Useredit extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      department_list: [],\n      user_category_list: [],\n      user: [{\n        \"id\": \"0\",\n        \"first_name\": \"\",\n        \"last_name\": \"\",\n        \"email\": \"\",\n        \"phone\": \"\",\n        \"address\": \"\",\n        \"department\": \"1\",\n        \"user_category\": \"1\",\n        \"username\": \"\"\n      }]\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(API_URL + '/production/department/getAll.php').then(data => {\n      if (data) {\n        this.setState({\n          department_list: data.data\n        });\n        console.log('data', data.data);\n      }\n    });\n    axios.get(API_URL + '/production/usercategory/getAll.php').then(data => {\n      if (data != undefined || data != null || data.data.typeof === \"object\") {\n        this.setState({\n          user_category_list: data.data\n        });\n        console.log('data', data);\n      }\n    });\n\n    if (this.props.match != undefined) {\n      axios.post(API_URL + '/production/user/editUser.php', {\n        id: this.props.match.params.id\n      }).then(data => {\n        if (data) {\n          this.setState({\n            user: data.data\n          });\n          console.log('data', data.data);\n        }\n      });\n    } else {\n      this.props.history.replace('/user-management');\n    }\n  }\n\n  handleChange(e) {\n    console.log('target', e.target.name);\n    this.setState({\n      user: [_objectSpread({}, this.state.user[0], {\n        [e.target.name]: e.target.value\n      })]\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    console.log('e', e.target.password.value);\n    axios.post(API_URL + '/car_booking/production/user/updateUser.php', {\n      id: e.target.id.value,\n      frsname: e.target.first_name.value,\n      lastname: e.target.last_name.value,\n      department: e.target.department.value,\n      address: e.target.address.value,\n      username: e.target.username.value,\n      password: e.target.password.value,\n      user_category: e.target.user_category.value,\n      phone: e.target.phone.value,\n      email: e.target.email.value\n    }).then(data => {\n      console.log('data', data);\n\n      if (data.data.message == '1') {\n        alert('successfull');\n        this.props.history.replace('/user-management');\n      } else {\n        alert('server error');\n      }\n    });\n  }\n\n  render() {\n    const department = this.state.department_list.map(row => {\n      return React.createElement(\"option\", {\n        key: row.id,\n        value: row.id,\n        selected: this.state.user[0].department == row.id ? true : false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, row.name);\n    });\n    const user_category = this.state.user_category_list.map(row => {\n      return React.createElement(\"option\", {\n        key: row.id,\n        value: row.id,\n        selected: this.state.user[0].user_category == row.id ? true : false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, row.name);\n    });\n    return React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-8 col-md-8 bg-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel panel-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"panel-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Update user information\")), React.createElement(\"div\", {\n      className: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      role: \"form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"id\",\n      id: \"id\",\n      className: \"form-control input-sm \",\n      style: {\n        display: 'none'\n      },\n      onChange: this.handleChange,\n      value: this.state.user[0].id,\n      placeholder: \"id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-6 col-sm-6 col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"first_name\",\n      id: \"first_name\",\n      className: \"form-control input-sm\",\n      onChange: this.handleChange,\n      value: this.state.user[0].first_name,\n      placeholder: \"First Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-xs-6 col-sm-6 col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"last_name\",\n      id: \"last_name\",\n      className: \"form-control input-sm\",\n      onChange: this.handleChange,\n      value: this.state.user[0].last_name,\n      placeholder: \"Last Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-6 col-sm-6 col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      id: \"email\",\n      className: \"form-control input-sm\",\n      onChange: this.handleChange,\n      value: this.state.user[0].email,\n      placeholder: \"Email Address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-xs-6 col-sm-6 col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-4 col-form-label col-form-label-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Department\"), React.createElement(\"div\", {\n      className: \"col-sm-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"department\",\n      id: \"department\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0\",\n      disabled: true,\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Select \"), department))))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-6 col-sm-6 col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"phone\",\n      id: \"phone\",\n      className: \"form-control input-sm\",\n      onChange: this.handleChange,\n      value: this.state.user[0].phone,\n      placeholder: \"Phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-xs-6 col-sm-6 col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-4 col-form-label col-form-label-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"User Role\"), React.createElement(\"div\", {\n      className: \"col-sm-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"user_category\",\n      id: \"user_category\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0\",\n      disabled: true,\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Select\"), user_category))))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"address\",\n      id: \"address\",\n      className: \"form-control input-sm\",\n      onChange: this.handleChange,\n      value: this.state.user[0].address,\n      placeholder: \"Address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      id: \"username\",\n      className: \"form-control input-sm\",\n      value: this.state.user[0].username,\n      disabled: true,\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \" Don't Enter Password if you don't want to change (*)\")), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-6 col-sm-6 col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      className: \"form-control input-sm\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-xs-6 col-sm-6 col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password_confirmation\",\n      id: \"password_confirmation\",\n      className: \"form-control input-sm\",\n      placeholder: \"Confirm Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })))), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Register\",\n      className: \"btn btn-info btn-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }))))))));\n  }\n\n}\n\nUseredit.propTypes = {};\nexport default Useredit;","map":{"version":3,"sources":["D:\\Marhub\\car-booking\\fontend\\src\\modules\\user_management\\user_edit.js"],"names":["React","PureComponent","PropTypes","API_URL","axios","Useredit","constructor","props","state","department_list","user_category_list","user","handleSubmit","bind","handleChange","componentDidMount","get","then","data","setState","console","log","undefined","typeof","match","post","id","params","history","replace","e","target","name","value","preventDefault","password","frsname","first_name","lastname","last_name","department","address","username","user_category","phone","email","message","alert","render","map","row","display","propTypes"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAAQC,OAAR,QAAsB,qBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,QAAN,SAAuBJ,aAAvB,CAAqC;AAGjCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,eAAe,EAAE,EADR;AAETC,MAAAA,kBAAkB,EAAC,EAFV;AAGTC,MAAAA,IAAI,EAAE,CAAC;AAAC,cAAK,GAAN;AAAU,sBAAa,EAAvB;AAA0B,qBAAY,EAAtC;AAAyC,iBAAQ,EAAjD;AAAoD,iBAAQ,EAA5D;AAA+D,mBAAU,EAAzE;AAA4E,sBAAa,GAAzF;AAA6F,yBAAgB,GAA7G;AAAiH,oBAAW;AAA5H,OAAD;AAHG,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AACDE,EAAAA,iBAAiB,GAAE;AACfX,IAAAA,KAAK,CAACY,GAAN,CAAUb,OAAO,GAAC,mCAAlB,EAAuDc,IAAvD,CAA6DC,IAAD,IAAQ;AAChE,UAAGA,IAAH,EAAQ;AACJ,aAAKC,QAAL,CAAc;AAACV,UAAAA,eAAe,EAACS,IAAI,CAACA;AAAtB,SAAd;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBH,IAAI,CAACA,IAAxB;AACH;AAEJ,KAND;AAOAd,IAAAA,KAAK,CAACY,GAAN,CAAUb,OAAO,GAAC,qCAAlB,EAAyDc,IAAzD,CAA+DC,IAAD,IAAQ;AAClE,UAAGA,IAAI,IAAII,SAAR,IAAqBJ,IAAI,IAAI,IAA7B,IAAqCA,IAAI,CAACA,IAAL,CAAUK,MAAV,KAAqB,QAA7D,EAAsE;AAClE,aAAKJ,QAAL,CAAc;AAACT,UAAAA,kBAAkB,EAACQ,IAAI,CAACA;AAAzB,SAAd;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBH,IAAnB;AACH;AACJ,KALD;;AAMA,QAAG,KAAKX,KAAL,CAAWiB,KAAX,IAAoBF,SAAvB,EAAiC;AAC7BlB,MAAAA,KAAK,CAACqB,IAAN,CAAWtB,OAAO,GAAC,+BAAnB,EAAmD;AAC/CuB,QAAAA,EAAE,EAAE,KAAKnB,KAAL,CAAWiB,KAAX,CAAiBG,MAAjB,CAAwBD;AADmB,OAAnD,EAEMT,IAFN,CAEYC,IAAD,IAAQ;AACf,YAAGA,IAAH,EAAQ;AACJ,eAAKC,QAAL,CAAc;AAACR,YAAAA,IAAI,EAACO,IAAI,CAACA;AAAX,WAAd;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBH,IAAI,CAACA,IAAxB;AACH;AAEJ,OARD;AASH,KAVD,MAUK;AACD,WAAKX,KAAL,CAAWqB,OAAX,CAAmBC,OAAnB,CAA2B,kBAA3B;AACH;AAEJ;;AACDf,EAAAA,YAAY,CAACgB,CAAD,EAAG;AACXV,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBS,CAAC,CAACC,MAAF,CAASC,IAA9B;AACA,SAAKb,QAAL,CAAc;AAACR,MAAAA,IAAI,EAAC,mBAAK,KAAKH,KAAL,CAAWG,IAAX,CAAgB,CAAhB,CAAL;AAAwB,SAACmB,CAAC,CAACC,MAAF,CAASC,IAAV,GAAgBF,CAAC,CAACC,MAAF,CAASE;AAAjD;AAAN,KAAd;AAEH;;AACDrB,EAAAA,YAAY,CAACkB,CAAD,EAAG;AACXA,IAAAA,CAAC,CAACI,cAAF;AACAd,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgBS,CAAC,CAACC,MAAF,CAASI,QAAT,CAAkBF,KAAlC;AACA7B,IAAAA,KAAK,CAACqB,IAAN,CAAWtB,OAAO,GAAC,6CAAnB,EAAiE;AAC7DuB,MAAAA,EAAE,EAAEI,CAAC,CAACC,MAAF,CAASL,EAAT,CAAYO,KAD6C;AAE7DG,MAAAA,OAAO,EAAEN,CAAC,CAACC,MAAF,CAASM,UAAT,CAAoBJ,KAFgC;AAG7DK,MAAAA,QAAQ,EAAER,CAAC,CAACC,MAAF,CAASQ,SAAT,CAAmBN,KAHgC;AAI7DO,MAAAA,UAAU,EAAEV,CAAC,CAACC,MAAF,CAASS,UAAT,CAAoBP,KAJ6B;AAK7DQ,MAAAA,OAAO,EAAEX,CAAC,CAACC,MAAF,CAASU,OAAT,CAAiBR,KALmC;AAM7DS,MAAAA,QAAQ,EAAEZ,CAAC,CAACC,MAAF,CAASW,QAAT,CAAkBT,KANiC;AAO7DE,MAAAA,QAAQ,EAAEL,CAAC,CAACC,MAAF,CAASI,QAAT,CAAkBF,KAPiC;AAQ7DU,MAAAA,aAAa,EAAEb,CAAC,CAACC,MAAF,CAASY,aAAT,CAAuBV,KARuB;AAS7DW,MAAAA,KAAK,EAAEd,CAAC,CAACC,MAAF,CAASa,KAAT,CAAeX,KATuC;AAU7DY,MAAAA,KAAK,EAAEf,CAAC,CAACC,MAAF,CAASc,KAAT,CAAeZ;AAVuC,KAAjE,EAWKhB,IAXL,CAWWC,IAAD,IAAQ;AACVE,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBH,IAAnB;;AACA,UAAGA,IAAI,CAACA,IAAL,CAAU4B,OAAV,IAAqB,GAAxB,EAA4B;AACxBC,QAAAA,KAAK,CAAC,aAAD,CAAL;AACA,aAAKxC,KAAL,CAAWqB,OAAX,CAAmBC,OAAnB,CAA2B,kBAA3B;AACH,OAHD,MAGK;AACDkB,QAAAA,KAAK,CAAC,cAAD,CAAL;AACH;AACR,KAnBD;AAoBH;;AACDC,EAAAA,MAAM,GAAG;AACL,UAAMR,UAAU,GAAG,KAAKhC,KAAL,CAAWC,eAAX,CAA2BwC,GAA3B,CAA+BC,GAAG,IAAG;AACpD,aAAO;AAAQ,QAAA,GAAG,EAAEA,GAAG,CAACxB,EAAjB;AAAqB,QAAA,KAAK,EAAEwB,GAAG,CAACxB,EAAhC;AAAoC,QAAA,QAAQ,EAAG,KAAKlB,KAAL,CAAWG,IAAX,CAAgB,CAAhB,EAAmB6B,UAAnB,IAAiCU,GAAG,CAACxB,EAAtC,GAA0C,IAA1C,GAA+C,KAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqGwB,GAAG,CAAClB,IAAzG,CAAP;AACH,KAFkB,CAAnB;AAGA,UAAMW,aAAa,GAAG,KAAKnC,KAAL,CAAWE,kBAAX,CAA8BuC,GAA9B,CAAkCC,GAAG,IAAG;AAC1D,aAAO;AAAQ,QAAA,GAAG,EAAEA,GAAG,CAACxB,EAAjB;AAAqB,QAAA,KAAK,EAAEwB,GAAG,CAACxB,EAAhC;AAAoC,QAAA,QAAQ,EAAG,KAAKlB,KAAL,CAAWG,IAAX,CAAgB,CAAhB,EAAmBgC,aAAnB,IAAoCO,GAAG,CAACxB,EAAzC,GAA6C,IAA7C,GAAkD,KAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwGwB,GAAG,CAAClB,IAA5G,CAAP;AACH,KAFqB,CAAtB;AAGA,WACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADR,CADJ,EAIY;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAM,MAAA,IAAI,EAAC,MAAX;AAAkB,MAAA,QAAQ,EAAE,KAAKpB,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,IAAxB;AAA6B,MAAA,EAAE,EAAC,IAAhC;AAAqC,MAAA,SAAS,EAAC,wBAA/C;AAAwE,MAAA,KAAK,EAAE;AAACuC,QAAAA,OAAO,EAAC;AAAT,OAA/E;AAAiG,MAAA,QAAQ,EAAE,KAAKrC,YAAhH;AAA8H,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWG,IAAX,CAAgB,CAAhB,EAAmBe,EAAxJ;AAA4J,MAAA,WAAW,EAAC,IAAxK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADR,CADA,EAIA;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,YAAxB;AAAqC,MAAA,EAAE,EAAC,YAAxC;AAAqD,MAAA,SAAS,EAAC,uBAA/D;AAAuF,MAAA,QAAQ,EAAE,KAAKZ,YAAtG;AAAoH,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWG,IAAX,CAAgB,CAAhB,EAAmB0B,UAA9I;AAA0J,MAAA,WAAW,EAAC,YAAtK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADR,EAMQ;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,WAAxB;AAAoC,MAAA,EAAE,EAAC,WAAvC;AAAmD,MAAA,SAAS,EAAC,uBAA7D;AAAqF,MAAA,QAAQ,EAAE,KAAKvB,YAApG;AAAkH,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWG,IAAX,CAAgB,CAAhB,EAAmB4B,SAA5I;AAAuJ,MAAA,WAAW,EAAC,WAAnK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CANR,CAJA,EAgBI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,IAAI,EAAC,OAAzB;AAAiC,MAAA,EAAE,EAAC,OAApC;AAA4C,MAAA,SAAS,EAAC,uBAAtD;AAA8E,MAAA,QAAQ,EAAE,KAAKzB,YAA7F;AAA2G,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWG,IAAX,CAAgB,CAAhB,EAAmBkC,KAArI;AAA4I,MAAA,WAAW,EAAC,eAAxJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,EAMI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAO,MAAA,SAAS,EAAC,2CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADR,EAEQ;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,YAAtC;AAAmD,MAAA,EAAE,EAAC,YAAtD;AAAmE,MAAA,QAAQ,MAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAkB,MAAA,QAAQ,MAA1B;AAA2B,MAAA,QAAQ,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEKL,UAFL,CADJ,CAFR,CADA,CANJ,CAhBJ,EAkCI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,OAAxB;AAAgC,MAAA,EAAE,EAAC,OAAnC;AAA2C,MAAA,SAAS,EAAC,uBAArD;AAA6E,MAAA,QAAQ,EAAE,KAAK1B,YAA5F;AAA0G,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWG,IAAX,CAAgB,CAAhB,EAAmBiC,KAApI;AAA2I,MAAA,WAAW,EAAC,OAAvJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,EAMI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,2CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,eAAtC;AAAsD,MAAA,EAAE,EAAC,eAAzD;AAAyE,MAAA,QAAQ,MAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAkB,MAAA,QAAQ,MAA1B;AAA2B,MAAA,QAAQ,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEKD,aAFL,CADJ,CAFJ,CADJ,CANJ,CAlCJ,EAoDI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,SAAxB;AAAkC,MAAA,EAAE,EAAC,SAArC;AAA+C,MAAA,SAAS,EAAC,uBAAzD;AAAiF,MAAA,QAAQ,EAAE,KAAK7B,YAAhG;AAA+G,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWG,IAAX,CAAgB,CAAhB,EAAmB8B,OAAzI;AAAkJ,MAAA,WAAW,EAAC,SAA9J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CApDJ,EAuDI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,UAAxB;AAAmC,MAAA,EAAE,EAAC,UAAtC;AAAiD,MAAA,SAAS,EAAC,uBAA3D;AAAoF,MAAA,KAAK,EAAE,KAAKjC,KAAL,CAAWG,IAAX,CAAgB,CAAhB,EAAmB+B,QAA9G;AAAwH,MAAA,QAAQ,MAAhI;AAAiI,MAAA,WAAW,EAAC,UAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAvDJ,EA0DI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DADJ,CA1DJ,EA6DI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,EAAE,EAAC,UAA1C;AAAqD,MAAA,SAAS,EAAC,uBAA/D;AAAuF,MAAA,WAAW,EAAC,UAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,EAMI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,uBAA5B;AAAoD,MAAA,EAAE,EAAC,uBAAvD;AAA+E,MAAA,SAAS,EAAC,uBAAzF;AAAiH,MAAA,WAAW,EAAC,kBAA7H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CANJ,CA7DJ,EA0EI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,UAA3B;AAAsC,MAAA,SAAS,EAAC,wBAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1EJ,CADA,CAJZ,CADJ,CADA,CADJ,CADJ,CADJ;AA8FH;;AA7KgC;;AAA/BrC,Q,CACK+C,S,GAAY,E;AA+KvB,eAAe/C,QAAf","sourcesContent":["import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {API_URL} from \"../../config/config\";\r\nimport axios from \"axios\";\r\nclass Useredit extends PureComponent {\r\n    static propTypes = {}\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            department_list: [],\r\n            user_category_list:[],\r\n            user: [{\"id\":\"0\",\"first_name\":\"\",\"last_name\":\"\",\"email\":\"\",\"phone\":\"\",\"address\":\"\",\"department\":\"1\",\"user_category\":\"1\",\"username\":\"\"}]\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n    componentDidMount(){\r\n        axios.get(API_URL+'/production/department/getAll.php').then((data)=>{\r\n            if(data){\r\n                this.setState({department_list:data.data})\r\n                console.log('data',data.data)\r\n            }\r\n            \r\n        })  \r\n        axios.get(API_URL+'/production/usercategory/getAll.php').then((data)=>{\r\n            if(data != undefined || data != null || data.data.typeof === \"object\"){\r\n                this.setState({user_category_list:data.data})\r\n                console.log('data',data)\r\n            }\r\n        }) \r\n        if(this.props.match != undefined){\r\n            axios.post(API_URL+'/production/user/editUser.php',{\r\n                id: this.props.match.params.id}\r\n                ).then((data)=>{\r\n                if(data){\r\n                    this.setState({user:data.data})\r\n                    console.log('data',data.data)\r\n                }\r\n                \r\n            })\r\n        }else{\r\n            this.props.history.replace('/user-management');\r\n        }\r\n        \r\n    } \r\n    handleChange(e){\r\n        console.log('target',e.target.name)\r\n        this.setState({user:[{...this.state.user[0],[e.target.name]:e.target.value}]})\r\n       \r\n    }\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n        console.log('e',e.target.password.value)\r\n        axios.post(API_URL+'/car_booking/production/user/updateUser.php',{\r\n            id: e.target.id.value,\r\n            frsname: e.target.first_name.value,\r\n            lastname: e.target.last_name.value,\r\n            department: e.target.department.value,\r\n            address: e.target.address.value,\r\n            username: e.target.username.value,\r\n            password: e.target.password.value,\r\n            user_category: e.target.user_category.value,\r\n            phone: e.target.phone.value,\r\n            email: e.target.email.value\r\n          }).then((data)=>{\r\n                console.log('data',data)\r\n                if(data.data.message == '1'){\r\n                    alert('successfull')\r\n                    this.props.history.replace('/user-management');\r\n                }else{\r\n                    alert('server error')\r\n                }\r\n        })\r\n    }\r\n    render() {\r\n        const department = this.state.department_list.map(row =>{\r\n            return <option key={row.id} value={row.id} selected={(this.state.user[0].department == row.id)?true:false}>{row.name}</option>\r\n        })\r\n        const user_category = this.state.user_category_list.map(row =>{\r\n            return <option key={row.id} value={row.id} selected={(this.state.user[0].user_category == row.id)?true:false}>{row.name}</option>\r\n        })\r\n        return (\r\n            <div className=\"content\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row justify-content-center\">\r\n                    <div className=\"col-xs-12 col-sm-8 col-md-8 bg-white\">\r\n                        <div className=\"panel panel-default\">\r\n                            <div className=\"panel-heading\">\r\n                                    <h3 className=\"panel-title\">Update user information</h3>\r\n                                    </div>\r\n                                    <div className=\"panel-body\">\r\n                                    <form role=\"form\" onSubmit={this.handleSubmit}>\r\n                                    <div className=\"form-group\">\r\n                                            <input type=\"text\" name=\"id\" id=\"id\" className=\"form-control input-sm \" style={{display:'none'}} onChange={this.handleChange} value={this.state.user[0].id} placeholder=\"id\"/>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                            <div className=\"col-xs-6 col-sm-6 col-md-6\">\r\n                                                <div className=\"form-group\">\r\n                                                    <input type=\"text\" name=\"first_name\" id=\"first_name\" className=\"form-control input-sm\" onChange={this.handleChange} value={this.state.user[0].first_name} placeholder=\"First Name\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-xs-6 col-sm-6 col-md-6\">\r\n                                                <div className=\"form-group\">\r\n                                                    <input type=\"text\" name=\"last_name\" id=\"last_name\" className=\"form-control input-sm\" onChange={this.handleChange} value={this.state.user[0].last_name} placeholder=\"Last Name\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-xs-6 col-sm-6 col-md-6\">\r\n                                                <div className=\"form-group\">\r\n                                                    <input type=\"email\" name=\"email\" id=\"email\" className=\"form-control input-sm\" onChange={this.handleChange} value={this.state.user[0].email} placeholder=\"Email Address\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-xs-6 col-sm-6 col-md-6\">\r\n                                            <div className=\"form-group row\">\r\n                                                    <label className=\"col-sm-4 col-form-label col-form-label-sm\">Department</label>\r\n                                                    <div className=\"col-sm-8\">\r\n                                                        <select className=\"form-control\" name=\"department\" id=\"department\" required>\r\n                                                            <option value=\"0\" disabled selected>Select </option>\r\n                                                            {department}\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-xs-6 col-sm-6 col-md-6\">\r\n                                                <div className=\"form-group\">\r\n                                                    <input type=\"text\" name=\"phone\" id=\"phone\" className=\"form-control input-sm\" onChange={this.handleChange} value={this.state.user[0].phone} placeholder=\"Phone\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-xs-6 col-sm-6 col-md-6\">\r\n                                                <div className=\"form-group row\">\r\n                                                    <label className=\"col-sm-4 col-form-label col-form-label-sm\">User Role</label>\r\n                                                    <div className=\"col-sm-8\">\r\n                                                        <select className=\"form-control\" name=\"user_category\" id=\"user_category\" required>\r\n                                                            <option value=\"0\" disabled selected>Select</option>\r\n                                                            {user_category}\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <input type=\"text\" name=\"address\" id=\"address\" className=\"form-control input-sm\" onChange={this.handleChange}  value={this.state.user[0].address} placeholder=\"Address\"/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <input type=\"text\" name=\"username\" id=\"username\" className=\"form-control input-sm\"  value={this.state.user[0].username} disabled placeholder=\"Username\"/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label className=\"text-danger\"> Don't Enter Password if you don't want to change (*)</label>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-xs-6 col-sm-6 col-md-6\">\r\n                                                <div className=\"form-group\">\r\n                                                    <input type=\"password\" name=\"password\" id=\"password\" className=\"form-control input-sm\" placeholder=\"Password\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-xs-6 col-sm-6 col-md-6\">\r\n                                                <div className=\"form-group\">\r\n                                                    <input type=\"password\" name=\"password_confirmation\" id=\"password_confirmation\" className=\"form-control input-sm\" placeholder=\"Confirm Password\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                        <input type=\"submit\" value=\"Register\" className=\"btn btn-info btn-block\"/>\r\n                                    \r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Useredit"]},"metadata":{},"sourceType":"module"}